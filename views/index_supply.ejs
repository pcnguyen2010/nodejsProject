<div class="supply-gallary" id="supply-gallary">
    <div>
        <p>Nail Supply</p>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis, totam. Cupiditate placeat accusamus praesentium asperiores sit porro, harum, amet nesciunt est, commodi quidem. Sit quod, illo rem placeat adipisci quos?</p>
    </div>
    <div class="slider-container" id="slider-container">
        <div class="image-container">
        <% for(const i in data) {%>
            <img src="<%=data[i] %>">
        <%}%>
        </div>
        <i class="fa fa-angle-double-left btn prev" ></i>
        <i class="fa fa-angle-double-right btn next"></i>
    </div>
    
</div>

<script>
    const imageContainer = document.querySelector(".image-container");
    const next = document.querySelector(".next");
    const prev = document.querySelector(".prev");
    const imgS = document.querySelectorAll(".image-container img");
    const imgWidth = Number((this.getComputedStyle(document.querySelector(".image-container img")).getPropertyValue('--image-supply-width')).replace('px',''));
    //to set value for css variable: document.documentElement.style.setProperty('--my-variable-name', 'pink');
    let currentImage = 1;
    let timeout;

    next.addEventListener("click",()=>{
        currentImage++;
        clearTimeout(timeout)
        updateImg();
    })

    prev.addEventListener("click",()=>{
        console.log("Response")
        currentImage--;
        clearTimeout(timeout)
        updateImg();
    })

    updateImg();

    function updateImg(){
        if(currentImage > imgS.length){
            currentImage = 1;
        }else if(currentImage < 1){
            currentImage = imgS.length;
        }

        imageContainer.style.transform = `translateX(-${(currentImage - 1) * imgWidth}px)`;

        timeout = setTimeout(() =>{
            currentImage++;
            updateImg();
        },3000)
    }
</script>